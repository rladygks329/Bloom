<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.edu.blooming.BoardReplyMapper">

	<insert id="insert">
		insert into ${board_reply}
		(${memberId}, ${boardId}, ${boardReplyContent})
		values (#{memberId}, #{boardId}, #{boardReplyContent})
	</insert>
	
	<update id="update">
		update ${board_reply}
		set ${boardReplyContent} = #{boardReplyContent}
		where ${boardReplyId} = #{boardReplyId}
	</update>
	
	<delete id="delete">
		delete from ${board_reply}
		where ${boardReplyId} = #{boardReplyId}	
	</delete>	
	
	<select id="select_by_board_id" resultType="BoardReplyVO">
		select r.*, m.${memberNickname} ${authorNickname} 
		from ${board_reply} r join ${member} m on r.${memberId} = m.${memberId}
		where ${boardId} = #{boardId}
		order by ${boardReplyId}	
	</select>			

</mapper>

